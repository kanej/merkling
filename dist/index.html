<html>
  <head>
    <title>Merkling</title>
    <script src="https://unpkg.com/ipfs/dist/index.js"></script>
  </head>
  <body>
    <h1>Merkling</h1>
    <h3>Open the console to confirm the library is loading properly</h3>
    <script src="./merkling.js"></script>
    <script type="module">
      const node = new Ipfs()

      node.on('ready', async (err) => {
        if (err) {
          throw err
        }

        const merkle = new Merkling({ ipfs: node })
        window.merkle = merkle

        const obj = await merkle.save({ text: 'example' })

        const ipfsHash = obj._cid.toBaseEncodedString()
        
        console.log('Saved example object with hash:', ipfsHash)

        const retrievedObj = await merkle.get(ipfsHash)

        console.log(retrievedObj)
      })
    </script>
  </body>
</html>
